# 移动端Web基础笔记

## 1. 移动端开发基础

### 1.1. 浏览器现状

国内的几乎所有手机浏览器都是根据Webkit修改过来的内核，国内尚无自主研发的内核，就像国内的手机操作系统都是基于Android修改开发的一样。

<font color=red>**总结：兼容移动端主流浏览器，处理Webkit内核浏览器即可。**</font>

### 1.2. 手机屏幕现状

- 移动端设备屏幕尺寸非常多，碎片化严重
- Android设备有多种分辨率：480x800, 480x854, 540x960, 720x1280，1080x1920等，还有传说中的2K，4k屏
- 近年来iPhone的碎片化也加剧了，其设备的主要分辨率有：640x960, 640x1136, 750x1334, 1242x2208等
- 作为开发者无需关注这些分辨率，因为常用的尺寸单位是 px 。

### 1.3. 常见移动端屏幕尺寸

![](images/20211102102308135_21982.png)

> 注：
>
> - 以上数据均参考自 https://material.io/devices/
> - 作为前端开发，不建议去纠结dp，dpi，pt，ppi等单位。

### 1.4. 移动端调试方法

- Chrome DevTools（谷歌浏览器）的模拟手机调试
- 搭建本地web服务器，手机和服务器一个局域网内，通过手机访问服务器
- 使用外网服务器，直接IP或域名访问

## 2. 视口

视口（viewport）就是浏览器显示页面内容的屏幕区域。**视口可以分为布局视口、视觉视口和理想视口**

### 2.1. 布局视口 (layout viewport)

- 一般移动设备的浏览器都默认设置了一个布局视口，用于解决早期的PC端页面在手机上显示的问题。
- IOS, Android基本都将这个视口分辨率设置为 980px，所以PC上的网页大多都能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放网页。

![](images/20211102103223798_24087.png)

### 2.2. 视觉视口 (visual viewport)

- 是指用户正在看到的网站的区域。<font color=red>**注意：是网站的区域**</font>。
- 可以通过缩放去操作视觉视口，但不会影响布局视口，布局视口仍保持原来的宽度。

![](images/20211102103356148_3843.png)

### 2.3. 理想视口 (ideal viewport)

- 为了使网站在移动端有最理想的浏览和阅读宽度而设定
- 理想视口，对设备来讲，是最理想的视口尺寸
- 需要手动添写meta视口标签通知浏览器操作
- meta视口标签的主要目的：布局视口的宽度应该与理想视口的宽度一致，简单理解就是设备有多宽，我们布局的视口就多宽

### 2.4. meta 视口标签

#### 2.4.1. 定义和用法

- `<meta>` 元素可提供有关页面的元信息（meta-information），比如针对搜索引擎和更新频度的描述和关键词。
- `<meta>` 标签位于文档的头部，不包含任何内容。`<meta>` 标签的属性定义了与文档相关联的名称/值对。

示例：

```html
<meta name="viewport" content="width=device-width, user-scalable=no,
      initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
```

> 注：
>
> - 在 HTML 中，`<meta>` 标签没有结束标签。
> - `<meta>` 标签永远位于 head 元素内部。
> - 元数据总是以名称/值的形式被成对传递的。

#### 2.4.2. 标签的属性

|   属性    |    值     |                      描述                       |
| :-------: | :-------: | ---------------------------------------------- |
| `content` | some_text | 定义与 http-equiv 或 name 属性相关的元信息（必需） |

content 属性相应的名称/值含义

|      属性       |                     解释说明                      |
| :-------------: | ------------------------------------------------ |
|     `width`     | 宽度设置的是viewport宽度，可以设置device-width特殊值 |
| `initial-scale` | 初始缩放比，大于0的数字                             |
| `maximum-scale` | 最大缩放比，大于0的数字                             |
| `minimum-scale` | 最小缩放比，大于0的数字                             |
| `user-scalable` | 用户是否可以缩放，yes或no（1或0）                   |

### 2.5. 标准的 viewport 设置

- 视口宽度和设备保持一致
- 视口的默认缩放比例1.0
- 不允许用户自行缩放
- 最大允许的缩放比例1.0
- 最小允许的缩放比例1.0

## 3. 二倍图

### 3.1. “物理像素”与“物理像素比”

- 物理像素点指的是屏幕显示的最小颗粒，是物理真实存在的。这是厂商在出厂时就设置好了。
- PC端页面，`1px` 等于1个物理像素的，但在移动端开发时候的 `1px` 不是一定等于1个物理像素的
- 1px 能显示的物理像素点的个数，称为**物理像素比**或**屏幕像素比**
- PC端和早前的手机屏幕/普通手机屏幕: `1 CSS像素 = 1 物理像素`的
- Retina（视网膜屏幕）是一种显示技术，可以将把更多的物理像素点压缩至一块屏幕里，从而达到更高的分辨率，并提高屏幕显示的细腻程度。

![](images/20211102143029438_26785.png)

### 3.2. 多倍图

在标准的viewport设置中，使用倍图来提高图片质量，解决在高清设备中的模糊问题

> 对于一张 50px×50px 的图片，在手机 Retina 屏中打开，按照刚才的物理像素比会放大倍数，这样会造成图片模糊。通常使用二倍图，因为iPhone 6\7\8 的影响,但是现在还存在3倍图4倍图的情况，这个看实际开发项目的需求

### 3.3. 背景缩放 background-size






